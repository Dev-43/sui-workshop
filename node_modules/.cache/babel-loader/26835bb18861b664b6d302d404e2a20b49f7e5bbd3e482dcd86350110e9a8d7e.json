{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\btm9d\\\\Desktop\\\\Sui_Workshop\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Transaction } from '@mysten/sui/transactions';\nimport { useSignAndExecuteTransaction, ConnectButton, useCurrentAccount } from '@mysten/dapp-kit';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoyaltyCardPage = () => {\n  _s();\n  const currentAccount = useCurrentAccount();\n  const [loading, setLoading] = useState(false);\n  const [packageId, setPackageId] = useState('');\n  const [mintForm, setMintForm] = useState({\n    customerId: '',\n    imageUrl: ''\n  });\n  const {\n    mutate: signAndExecute\n  } = useSignAndExecuteTransaction();\n  const handleMintChange = e => {\n    setMintForm({\n      ...mintForm,\n      [e.target.name]: e.target.value\n    });\n  };\n  const mintLoyalty = async () => {\n    if (!currentAccount) return alert('Please connect your wallet');\n    try {\n      setLoading(true);\n      const tx = new Transaction();\n      tx.moveCall({\n        target: `${packageId}::loyalty_card::mint_loyalty`,\n        arguments: [tx.pure.address(mintForm.customerId), tx.pure.string(mintForm.imageUrl)]\n      });\n      await signAndExecute({\n        transaction: tx\n      });\n      setMintForm({\n        customerId: '',\n        imageUrl: ''\n      });\n    } catch (error) {\n      console.error('Mint error:', error);\n      alert(`Minting failed: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mint-card-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mint-header\",\n      children: \"\\uD83C\\uDFA8 Mint Your NFT Loyalty Card\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wallet-section\",\n      children: [/*#__PURE__*/_jsxDEV(ConnectButton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), !currentAccount && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"connect-warning\",\n        children: \"Connect your wallet to begin minting.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\uD83D\\uDCE6 Package ID\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: packageId,\n        onChange: e => setPackageId(e.target.value),\n        placeholder: \"e.g., 0x123...::loyalty_card::mint_loyalty\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\uD83E\\uDDFE Customer Wallet Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"customerId\",\n        value: mintForm.customerId,\n        onChange: handleMintChange,\n        placeholder: \"SUI wallet address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\uD83D\\uDDBC\\uFE0F Image URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"imageUrl\",\n        value: mintForm.imageUrl,\n        onChange: handleMintChange,\n        placeholder: \"NFT image URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), mintForm.imageUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"image-preview\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Preview:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: mintForm.imageUrl,\n          alt: \"NFT Preview\",\n          className: \"nft-preview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: mintLoyalty,\n        className: `mint-button ${loading ? 'loading' : ''}`,\n        disabled: loading || !mintForm.customerId.trim() || !mintForm.imageUrl.trim() || !currentAccount,\n        children: loading ? 'üîÑ Minting...' : '‚ú® Mint NFT'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(LoyaltyCardPage, \"/AfrEF89Xr9ZCMpPZm4ylwsq9Z4=\", false, function () {\n  return [useCurrentAccount, useSignAndExecuteTransaction];\n});\n_c = LoyaltyCardPage;\nexport default LoyaltyCardPage;\nvar _c;\n$RefreshReg$(_c, \"LoyaltyCardPage\");","map":{"version":3,"names":["React","useState","Transaction","useSignAndExecuteTransaction","ConnectButton","useCurrentAccount","jsxDEV","_jsxDEV","LoyaltyCardPage","_s","currentAccount","loading","setLoading","packageId","setPackageId","mintForm","setMintForm","customerId","imageUrl","mutate","signAndExecute","handleMintChange","e","target","name","value","mintLoyalty","alert","tx","moveCall","arguments","pure","address","string","transaction","error","console","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","placeholder","src","alt","onClick","disabled","trim","_c","$RefreshReg$"],"sources":["C:/Users/btm9d/Desktop/Sui_Workshop/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Transaction } from '@mysten/sui/transactions';\r\nimport {\r\n  useSignAndExecuteTransaction,\r\n  ConnectButton,\r\n  useCurrentAccount\r\n} from '@mysten/dapp-kit';\r\nimport './App.css';\r\n\r\nconst LoyaltyCardPage = () => {\r\n  const currentAccount = useCurrentAccount();\r\n  const [loading, setLoading] = useState(false);\r\n  const [packageId, setPackageId] = useState('');\r\n  const [mintForm, setMintForm] = useState({ customerId: '', imageUrl: '' });\r\n  const { mutate: signAndExecute } = useSignAndExecuteTransaction();\r\n\r\n  const handleMintChange = (e) => {\r\n    setMintForm({ ...mintForm, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const mintLoyalty = async () => {\r\n    if (!currentAccount) return alert('Please connect your wallet');\r\n\r\n    try {\r\n      setLoading(true);\r\n      const tx = new Transaction();\r\n      tx.moveCall({\r\n        target: `${packageId}::loyalty_card::mint_loyalty`,\r\n        arguments: [\r\n          tx.pure.address(mintForm.customerId),\r\n          tx.pure.string(mintForm.imageUrl)\r\n        ]\r\n      });\r\n      await signAndExecute({ transaction: tx });\r\n      setMintForm({ customerId: '', imageUrl: '' });\r\n    } catch (error) {\r\n      console.error('Mint error:', error);\r\n      alert(`Minting failed: ${error.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mint-card-container\">\r\n      <h1 className=\"mint-header\">üé® Mint Your NFT Loyalty Card</h1>\r\n      \r\n      <div className=\"wallet-section\">\r\n        <ConnectButton />\r\n        {!currentAccount && <p className=\"connect-warning\">Connect your wallet to begin minting.</p>}\r\n      </div>\r\n\r\n      <div className=\"input-section\">\r\n        <label>üì¶ Package ID</label>\r\n        <input\r\n          type=\"text\"\r\n          value={packageId}\r\n          onChange={(e) => setPackageId(e.target.value)}\r\n          placeholder=\"e.g., 0x123...::loyalty_card::mint_loyalty\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-section\">\r\n        <label>üßæ Customer Wallet Address</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"customerId\"\r\n          value={mintForm.customerId}\r\n          onChange={handleMintChange}\r\n          placeholder=\"SUI wallet address\"\r\n        />\r\n\r\n        <label>üñºÔ∏è Image URL</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"imageUrl\"\r\n          value={mintForm.imageUrl}\r\n          onChange={handleMintChange}\r\n          placeholder=\"NFT image URL\"\r\n        />\r\n\r\n        {mintForm.imageUrl && (\r\n          <div className=\"image-preview\">\r\n            <p>Preview:</p>\r\n            <img src={mintForm.imageUrl} alt=\"NFT Preview\" className=\"nft-preview\" />\r\n          </div>\r\n        )}\r\n\r\n        <button\r\n          onClick={mintLoyalty}\r\n          className={`mint-button ${loading ? 'loading' : ''}`}\r\n          disabled={\r\n            loading ||\r\n            !mintForm.customerId.trim() ||\r\n            !mintForm.imageUrl.trim() ||\r\n            !currentAccount\r\n          }\r\n        >\r\n          {loading ? 'üîÑ Minting...' : '‚ú® Mint NFT'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoyaltyCardPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}